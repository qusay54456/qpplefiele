<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إتمام عملية الشراء | متجر أبل الإلكتروني</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
      /* الأنماط الأساسية */
  * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  body {
      background-color: #f5f5f7;
      color: #1d1d1f;
      overflow-x: hidden;
      position: relative;
  }

  /* خلفية متحركة متدرجة مع صورة خلفية ذات علاقة بالدفع */
  body:before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(0,113,227,0.05) 0%, rgba(245,245,247,0.3) 50%, rgba(0,113,227,0.08) 100%);
      background-size: 400% 400%;
      animation: gradientBackground 15s ease infinite;
      z-index: -2;
  }

  /* إضافة صورة خلفية زخرفية ذات علاقة بالدفع عبر الإنترنت */
  body:after {
      content: '';
      position: fixed;
      top: 0;
      right: 0;
      width: 100%;
      height: 100%;
      background-image: url('https://img.freepik.com/free-vector/secure-payment-abstract-concept-vector-illustration_107173-26232.jpg');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: right bottom;
      opacity: 0.08;
      z-index: -1;
      pointer-events: none;
  }

  @keyframes gradientBackground {
      0% {
          background-position: 0% 50%;
      }
      50% {
          background-position: 100% 50%;
      }
      100% {
          background-position: 0% 50%;
      }
  }

  a {
      text-decoration: none;
      color: inherit;
  }

  .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
  }

  /* رأس الصفحة */
  header {
      background-color: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      color: #f5f5f7;
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: transform 0.3s ease, background-color 0.3s ease;
  }

  .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 44px;
      padding: 0 15px;
  }

  .logo {
      font-size: 22px;
      transition: transform 0.3s ease;
  }
  
  .logo:hover {
      transform: scale(1.1);
  }

  .logo i {
      font-size: 24px;
      animation: logoGlow 3s infinite alternate;
  }

  @keyframes logoGlow {
      0% {
          color: #f5f5f7;
          text-shadow: 0 0 5px rgba(255,255,255,0.1);
      }
      100% {
          color: #ffffff;
          text-shadow: 0 0 15px rgba(255,255,255,0.5);
      }
  }

  .fa-apple {
      font-size: 1.2em;
  }

  /* قسم الخطوات */
  .checkout-steps {
      display: flex;
      justify-content: space-between;
      margin: 30px 0;
      position: relative;
  }

  .checkout-steps:before {
      content: '';
      position: absolute;
      top: 15px;
      left: 0;
      right: 0;
      height: 2px;
      background-color: #d2d2d7;
      z-index: 1;
  }

  .step {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      z-index: 2;
  }

  .step-number {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background-color: #d2d2d7;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      margin-bottom: 10px;
      transition: all 0.3s ease;
  }

  .step.active .step-number {
      background-color: #0071e3;
      box-shadow: 0 0 15px rgba(0, 113, 227, 0.5);
  }

  .step-label {
      font-size: 14px;
      color: #86868b;
      transition: all 0.3s ease;
  }

  .step.active .step-label {
      color: #0071e3;
      font-weight: bold;
  }

  /* قسم الرئيسي للدفع */
  .checkout-container {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 30px;
      margin-bottom: 60px;
  }

  @media (max-width: 768px) {
      .checkout-container {
          grid-template-columns: 1fr;
      }
  }

  /* قسم النموذج */
  .checkout-form-container {
      background-color: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      animation: fadeInUp 0.8s ease;
      position: relative;
      overflow: hidden;
  }

  /* إضافة صورة زخرفية متعلقة بالدفع في خلفية نموذج الدفع */
  .checkout-form-container:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('https://img.freepik.com/free-vector/credit-card-with-security-elements_23-2147624133.jpg');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: right bottom;
      opacity: 0.05;
      z-index: 0;
      pointer-events: none;
  }

  @keyframes fadeInUp {
      from {
          opacity: 0;
          transform: translateY(20px);
      }
      to {
          opacity: 1;
          transform: translateY(0);
      }
  }

  .checkout-title {
      font-size: 24px;
      margin-bottom: 20px;
      position: relative;
      padding-bottom: 10px;
      color: #1d1d1f;
  }

  .checkout-title:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60px;
      height: 3px;
      background-color: #0071e3;
  }

  .form-section {
      margin-bottom: 30px;
      position: relative;
      z-index: 1;
  }

  .form-section-title {
      font-size: 18px;
      margin-bottom: 15px;
      color: #1d1d1f;
  }

  .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 15px;
  }

  @media (max-width: 576px) {
      .form-row {
          grid-template-columns: 1fr;
      }
  }

  .form-group {
      margin-bottom: 15px;
  }

  .form-label {
      display: block;
      font-size: 14px;
      margin-bottom: 5px;
      color: #1d1d1f;
  }

  .form-input {
      width: 100%;
      padding: 12px;
      border: 1px solid #d2d2d7;
      border-radius: 5px;
      font-size: 14px;
      transition: all 0.3s ease;
  }

  .form-input:focus {
      border-color: #0071e3;
      outline: none;
      box-shadow: 0 0 8px rgba(0, 113, 227, 0.2);
      transform: translateY(-2px);
  }

  .form-select {
      width: 100%;
      padding: 12px;
      border: 1px solid #d2d2d7;
      border-radius: 5px;
      font-size: 14px;
      background-color: white;
      cursor: pointer;
      transition: all 0.3s ease;
  }

  .form-select:focus {
      border-color: #0071e3;
      outline: none;
      box-shadow: 0 0 8px rgba(0, 113, 227, 0.2);
  }

  /* قسم بطاقة الائتمان مع صورة جذابة */
  .card-container {
      margin-top: 20px;
      position: relative;
      height: 200px;
      perspective: 1000px;
  }

  .credit-card {
      position: absolute;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      cursor: pointer;
      background-size: cover;
      background-position: center;
  }

  /* إضافة صورة خلفية جذابة لبطاقة الائتمان */
  .credit-card.flipped {
      transform: rotateY(180deg);
  }

  .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 15px;
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      background-size: cover;
      background-position: center;
  }

  .card-front {
      background: linear-gradient(135deg, #0071e3, #00a2ff);
      color: white;
      background-image: url('https://img.freepik.com/free-vector/abstract-dynamic-pattern-wallpaper-vector_53876-59131.jpg');
      background-blend-mode: overlay;
  }

  .card-back {
      background: linear-gradient(135deg, #1d1d1f, #4d4d4f);
      color: white;
      transform: rotateY(180deg);
      background-image: url('https://img.freepik.com/free-vector/gradient-network-connection-background_23-2148874123.jpg');
      background-blend-mode: overlay;
  }

  /* إضافة أيقونة شعار بطاقة الائتمان */
  .card-logo {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 50px;
      height: 30px;
      background-image: url('https://img.freepik.com/free-vector/credit-card-icon-flat-style_169241-3.jpg');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
  }

  .card-number {
      font-size: 22px;
      letter-spacing: 2px;
      position: relative;
      z-index: 1;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }

  .card-holder {
      font-size: 14px;
      text-transform: uppercase;
      position: relative;
      z-index: 1;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }

  .card-expiry {
      font-size: 14px;
      position: relative;
      z-index: 1;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }

  .card-stripe {
      height: 40px;
      background-color: #111;
      margin: 20px 0;
  }

  .card-signature {
      display: flex;
      justify-content: flex-end;
  }

  .card-cvv {
      width: 60px;
      height: 30px;
      background-color: white;
      color: #1d1d1f;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 5px;
  }

  /* أيقونات رقاقة البطاقة والدفع اللاسلكي */
  .card-chip {
      width: 40px;
      height: 30px;
      background-image: url('https://img.freepik.com/free-vector/realistic-credit-card-chip_23-2147918561.jpg');
      background-size: contain;
      background-repeat: no-repeat;
      position: absolute;
      top: 50px;
      left: 20px;
  }

  .card-wireless {
      width: 30px;
      height: 30px;
      background-image: url('https://img.freepik.com/free-vector/contactless-payment-abstract-concept-vector-illustration_107173-26089.jpg');
      background-size: contain;
      background-repeat: no-repeat;
      position: absolute;
      top: 50px;
      left: 70px;
  }

  /* قسم ملخص الطلب مع صورة زخرفية */
  .order-summary {
      background-color: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      animation: fadeInUp 0.8s ease 0.2s both;
      position: sticky;
      top: 80px;
      max-height: calc(100vh - 100px);
      overflow-y: auto;
      position: relative;
  }

  /* إضافة صورة زخرفية في خلفية ملخص الطلب */
  .order-summary:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('https://img.freepik.com/free-vector/shopping-cart-with-bags-3d-design_23-2147874361.jpg');
      background-size: 80%;
      background-repeat: no-repeat;
      background-position: center bottom;
      opacity: 0.05;
      z-index: 0;
  }

  .summary-title {
      font-size: 20px;
      margin-bottom: 20px;
      position: relative;
      padding-bottom: 10px;
      color: #1d1d1f;
      z-index: 1;
  }

  .summary-title:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 40px;
      height: 3px;
      background-color: #0071e3;
  }

  .cart-items {
      margin-bottom: 20px;
      max-height: 300px;
      overflow-y: auto;
      position: relative;
      z-index: 1;
  }

  .cart-item {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 15px 0;
      border-bottom: 1px solid #e5e5ea;
  }

  .cart-item-image {
      width: 60px;
      height: 60px;
      background-color: #f5f5f7;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      overflow: hidden;
      position: relative;
  }

  .cart-item-image img {
      max-width: 100%;
      max-height: 100%;
  }

  .cart-item-details {
      flex: 1;
  }

  .cart-item-name {
      font-weight: 600;
      margin-bottom: 5px;
      font-size: 14px;
  }

  .cart-item-price {
      color: #0071e3;
      font-weight: 600;
      font-size: 14px;
      display: flex;
      justify-content: space-between;
  }

  .summary-row {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #e5e5ea;
      font-size: 14px;
      position: relative;
      z-index: 1;
  }

  .summary-row.total {
      font-size: 18px;
      font-weight: bold;
      color: #1d1d1f;
      border-bottom: none;
      margin-top: 10px;
  }

  .summary-row.total .price {
      color: #0071e3;
  }

  /* زر الدفع مع تأثيرات جذابة وصورة أمان */
  .checkout-btn {
      width: 100%;
      padding: 15px;
      background-color: #0071e3;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 113, 227, 0.3);
      margin-top: 20px;
      z-index: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
  }

  /* إضافة أيقونة أمان للزر */
  .checkout-btn:before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.7s ease;
      z-index: -1;
  }

  /* أيقونة قفل للأمان */
  .checkout-btn:after {
      content: '';
      width: 20px;
      height: 20px;
      background-image: url('https://img.freepik.com/free-vector/lock-icon-security-protection-safety-concept_53876-120510.jpg');
      background-size: contain;
      background-repeat: no-repeat;
      margin-left: 10px;
  }

  .checkout-btn:hover {
      background-color: #0077ed;
      transform: translateY(-3px);
      box-shadow: 0 7px 20px rgba(0, 113, 227, 0.5);
  }

  .checkout-btn:hover:before {
      left: 100%;
  }

  .checkout-btn:active {
      transform: translateY(0);
      box-shadow: 0 5px 15px rgba(0, 113, 227, 0.3);
  }

  .back-link {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      color: #0071e3;
      font-size: 14px;
      margin-bottom: 20px;
      transition: all 0.3s;
  }

  .back-link:hover {
      transform: translateX(-5px);
  }

  /* شريط أمان الدفع مع صورة */
  .secure-badge {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
      color: #86868b;
      font-size: 14px;
      padding: 10px;
      border-radius: 8px;
      background-color: #f8f8f8;
      position: relative;
  }

  .secure-badge:before {
      content: '';
      position: absolute;
      left: 10px;
      width: 20px;
      height: 20px;
      background-image: url('https://img.freepik.com/free-vector/secure-payment-concept-illustration_114360-5073.jpg');
      background-size: contain;
      background-repeat: no-repeat;
  }

  .secure-badge i {
      color: #0071e3;
  }

  /* الفوتر */
  footer {
      background-color: #f5f5f7;
      padding: 30px 0;
      margin-top: 60px;
      border-top: 1px solid #d2d2d7;
  }

  .footer-bottom {
      text-align: center;
      color: #86868b;
      font-size: 12px;
  }

  /* نافذة التأكيد مع صورة نجاح العملية */
  .confirmation-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2000;
  }

  .confirmation-modal {
      background-color: white;
      border-radius: 15px;
      padding: 30px;
      width: 90%;
      max-width: 500px;
      text-align: center;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
      animation: fadeInUp 0.5s ease;
      position: relative;
      overflow: hidden;
  }

  /* إضافة صورة نجاح في خلفية نافذة التأكيد */
  .confirmation-modal:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('https://img.freepik.com/free-vector/flat-successful-payment-concept_23-2147903068.jpg');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      opacity: 0.05;
      z-index: 0;
  }

  .confirmation-icon {
      font-size: 60px;
      color: #0071e3;
      margin-bottom: 20px;
      position: relative;
      z-index: 1;
      /* إضافة صورة علامة صح متحركة */
      background-image: url('https://img.freepik.com/free-vector/checkmark-illustration-green-tick-icon-flat-style_586414-345.jpg');
      background-size: contain;
      background-repeat: no-repeat;
      width: 80px;
      height: 80px;
      margin: 0 auto 20px;
      animation: pulse 1.5s infinite alternate;
  }

  .confirmation-title {
      font-size: 24px;
      margin-bottom: 10px;
      color: #1d1d1f;
      position: relative;
      z-index: 1;
  }

  .confirmation-message {
      font-size: 16px;
      margin-bottom: 30px;
      color: #86868b;
      position: relative;
      z-index: 1;
  }

  .confirmation-btn {
      padding: 12px 30px;
      background-color: #0071e3;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
      z-index: 1;
  }

  .confirmation-btn:hover {
      background-color: #0077ed;
      transform: translateY(-3px);
      box-shadow: 0 7px 20px rgba(0, 113, 227, 0.3);
  }

  /* إضافة صور أيقونات وسائل الدفع في الصفحة */
  .payment-methods {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 30px;
      flex-wrap: wrap;
  }

  .payment-method-icon {
      width: 50px;
      height: 30px;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      transition: transform 0.3s;
  }

  .payment-method-icon:hover {
      transform: translateY(-5px);
  }

  .visa-icon {
      background-image: url('https://img.freepik.com/free-vector/credit-card-icon-flat-style_169241-3.jpg');
  }

  .mastercard-icon {
      background-image: url('https://img.freepik.com/free-vector/credit-card-icon-flat-style_169241-3.jpg');
  }

  .apple-pay-icon {
      background-image: url('https://img.freepik.com/free-vector/credit-card-icon-flat-style_169241-3.jpg');
  }

  .paypal-icon {
      background-image: url('https://img.freepik.com/free-vector/credit-card-icon-flat-style_169241-3.jpg');
  }
    </style>
</head>
<body>
    <!-- رأس الصفحة -->
    <header>
        <div class="header-container">
            <div class="logo">
                <a href="index.html"><i class="fab fa-apple"></i></a>
            </div>
        </div>
    </header>
<a href="apple-store.html" class="back-link">
    <i class="fas fa-arrow-right"></i>
    العودة إلى المتجر
</a>

        <h1 class="checkout-title">إتمام عملية الشراء</h1>
        
        <!-- خطوات الدفع -->
        <div class="checkout-steps">
            <div class="step active">
                <div class="step-number">1</div>
                <div class="step-label">معلومات الشحن</div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-label">طريقة الدفع</div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-label">مراجعة الطلب</div>
            </div>
            <div class="step">
                <div class="step-number">4</div>
                <div class="step-label">تأكيد الطلب</div>
            </div>
        </div>
        
        <!-- قسم الدفع الرئيسي -->
        <div class="checkout-container">
            <div class="checkout-form-container">
                <h2 class="checkout-title">معلومات الشحن</h2>
                
                <form id="checkout-form">
                    <div class="form-section">
                        <h3 class="form-section-title">معلومات الاتصال</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="first-name" class="form-label">الاسم الأول</label>
                                <input type="text" id="first-name" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label for="last-name" class="form-label">الاسم الأخير</label>
                                <input type="text" id="last-name" class="form-input" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="email" class="form-label">البريد الإلكتروني</label>
                            <input type="email" id="email" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="phone" class="form-label">رقم الجوال</label>
                            <input type="tel" id="phone" class="form-input" required>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3 class="form-section-title">عنوان الشحن</h3>
                        <div class="form-group">
                            <label for="address" class="form-label">العنوان</label>
                            <input type="text" id="address" class="form-input" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="city" class="form-label">المدينة</label>
                                <input type="text" id="city" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label for="zip" class="form-label">الرمز البريدي</label>
                                <input type="text" id="zip" class="form-input" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="country" class="form-label">الدولة</label>
                            <select id="country" class="form-select" required>
                                <option value="">اختر الدولة</option>
                                <option value="saudi">المملكة العربية السعودية</option>
                                <option value="uae">الإمارات العربية المتحدة</option>
                                <option value="kuwait">فلسطين </option>
                                <option value="bahrain">البحرين</option>
                                <option value="qatar">قطر</option>
                                <option value="oman">عمان</option>
                                <option value="other">دولة أخرى</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3 class="form-section-title">معلومات الدفع</h3>
                        <div class="card-container" id="card-container">
                            <div class="credit-card" id="credit-card">
                                <div class="card-front">
                                    <div class="card-logo">
                                        <i class="fab fa-cc-visa"></i>
                                    </div>
                                    <div class="card-number" id="card-number-display">**** **** **** ****</div>
                                    <div class="card-details">
                                        <div class="card-holder" id="card-holder-display">اسم صاحب البطاقة</div>
                                        <div class="card-expiry" id="card-expiry-display">MM/YY</div>
                                    </div>
                                </div>
                                <div class="card-back">
                                    <div class="card-stripe"></div>
                                    <div class="card-signature">
                                        <div class="card-cvv" id="card-cvv-display">***</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="card-number" class="form-label">رقم البطاقة</label>
                            <input type="text" id="card-number" class="form-input" maxlength="19" placeholder="**** **** **** ****" required>
                        </div>
                        <div class="form-group">
                            <label for="card-holder" class="form-label">اسم صاحب البطاقة</label>
                            <input type="text" id="card-holder" class="form-input" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expiry-date" class="form-label">تاريخ الإنتهاء</label>
                                <input type="text" id="expiry-date" class="form-input" placeholder="MM/YY" maxlength="5" required>
                            </div>
                            <div class="form-group">
                                <label for="cvv" class="form-label">رمز الأمان (CVV)</label>
                                <input type="text" id="cvv" class="form-input" maxlength="3" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="secure-badge">
                        <i class="fas fa-lock"></i>
                        منصة دفع آمنة ومشفرة
                    </div>
                </form>
            </div>
            
            <div class="order-summary">
                <h2 class="summary-title">ملخص الطلب</h2>
                
                <div class="cart-items" id="cart-items-summary">
                    <!-- سيتم إضافة منتجات السلة هنا بواسطة JavaScript -->
                </div>
                
                <div class="summary-row">
                    <span>المجموع الفرعي:</span>
                    <span class="price" id="subtotal">0 ريال</span>
                </div>
                <div class="summary-row">
                    <span>الضريبة (15%):</span>
                    <span class="price" id="tax">0 ريال</span>
                </div>
                <div class="summary-row">
                    <span>تكلفة الشحن:</span>
                    <span class="price" id="shipping">مجاني</span>
                </div>
                <div class="summary-row total">
                    <span>الإجمالي:</span>
                    <span class="price" id="total-amount">0 ريال</span>
                </div>
                
                <button type="button" id="complete-purchase" class="checkout-btn pulse-animation">
                    إتمام عملية الشراء
                </button>
            </div>
        </div>
    </div>
    
    <!-- نافذة تأكيد الطلب -->
    <div class="confirmation-overlay" id="confirmation-overlay">
        <div class="confirmation-modal">
            <div class="confirmation-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2 class="confirmation-title">تم تأكيد طلبك بنجاح!</h2>
            <p class="confirmation-message">سيتم إرسال تفاصيل الطلب إلى بريدك الإلكتروني. شكراً لتسوقك معنا!</p>
            <button type="button" id="back-to-store" class="confirmation-btn">العودة للمتجر</button>
        </div>
    </div>
    
    <!-- الفوتر -->
    <footer>
        <div class="container">
            <div class="footer-bottom">
                <p>جميع الحقوق محفوظة © 2025 متجر أبل الإلكتروني. سياسة الخصوصية | الشروط والأحكام</p>
            </div>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // استرجاع بيانات السلة من التخزين المحلي
            let cart = JSON.parse(localStorage.getItem('cartItems') || '[]');
            let cartTotal = parseInt(localStorage.getItem('cartTotal') || '0');
            
            // عرض منتجات السلة في الملخص
            const cartItemsContainer = document.getElementById('cart-items-summary');
            let cartItemsHTML = '';
            
            // حساب القيم الإجمالية
            const subtotal = cartTotal;
            const tax = Math.round(subtotal * 0.15);
            const total = subtotal + tax;
            
            cart.forEach(item => {
                cartItemsHTML += `
                    <div class="cart-item">
                        <div class="cart-item-image">
                            <img src="${item.image}" alt="${item.name}">
                        </div>
                        <div class="cart-item-details">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">
                                <span>${item.quantity} × ${item.price} ريال</span>
                                <span>${item.price * item.quantity} ريال</span>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            cartItemsContainer.innerHTML = cartItemsHTML;
            
            // تحديث ملخص الطلب
            document.getElementById('subtotal').textContent = subtotal + ' ريال';
            document.getElementById('tax').textContent = tax + ' ريال';
            document.getElementById('total-amount').textContent = total + ' ريال';
            
            // تفاعلات بطاقة الائتمان
            const creditCard = document.getElementById('credit-card');
            const cardContainer = document.getElementById('card-container');
            const cvvInput = document.getElementById('cvv');
            
            // تدوير البطاقة عند التركيز على رمز الأمان
            cvvInput.addEventListener('focus', function() {
                creditCard.classList.add('flipped');
            });
            
            cvvInput.addEventListener('blur', function() {
                creditCard.classList.remove('flipped');
            });
            
            // تحديث بيانات البطاقة أثناء الكتابة
            const cardNumber = document.getElementById('card-number');
            const cardHolder = document.getElementById('card-holder');
            const expiryDate = document.getElementById('expiry-date');
            
            cardNumber.addEventListener('input', function(e) {
                // تنسيق رقم البطاقة مع إضافة مسافات
                let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
                let formattedValue = '';
                
                for (let i = 0; i < value.length; i++) {
                    if (i > 0 && i % 4 === 0) {
                        formattedValue += ' ';
                    }
                    formattedValue += value[i];
                }
                
                e.target.value = formattedValue;
                
                // تحديث العرض على البطاقة
                let displayValue = formattedValue || '**** **** **** ****';
                document.getElementById('card-number-display').textContent = displayValue;
            });
            
            cardHolder.addEventListener('input', function(e) {
                let displayValue = e.target.value || 'اسم صاحب البطاقة';
                document.getElementById('card-holder-display').textContent = displayValue.toUpperCase();
            });
            
            expiryDate.addEventListener('input', function(e) {
                let value = e.target.value.replace(/[^0-9]/gi, '');
                let formattedValue = '';
                
                if (value.length > 0) {
                    // مم/سس
                    if (value.length > 2) {
                        formattedValue = value.substring(0, 2) + '/' + value.substring(2, 4);
                    } else {
                        formattedValue = value;
                    }
                }
                
                e.target.value = formattedValue;
                
                let displayValue = formattedValue || 'MM/YY';
                document.getElementById('card-expiry-display').textContent = displayValue;
            });
            
            cvvInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/[^0-9]/gi, '');
                e.target.value = value;
                
                let displayValue = value ? value.padEnd(3, '*').substring(0, 3) : '***';
                document.getElementById('card-cvv-display').textContent = displayValue;
            });
            
            // إتمام عملية الشراء
            const completePurchaseBtn = document.getElementById('complete-purchase');
            const confirmationOverlay = document.getElementById('confirmation-overlay');
            const backToStoreBtn = document.getElementById('back-to-store');
            const checkoutForm = document.getElementById('checkout-form');
            
            completePurchaseBtn.addEventListener('click', function() {
                // التحقق من صحة النموذج
                const formInputs = checkoutForm.querySelectorAll('input, select');
                let isValid = true;
                
                formInputs.forEach(input => {
                    if (input.hasAttribute('required') && !input.value) {
                        isValid = false;
                        input.style.borderColor = '#ff3b30';
                    } else {
                        input.style.borderColor = '#d2d2d7';
                    }
                });
                
                if (isValid) {
                    // تحريك للخطوة الأخيرة
                    const steps = document.querySelectorAll('.step');
                    steps.forEach((step, index) => {
                        if (index === steps.length - 1) {
                            step.classList.add('active');
                        } else {
                            step.classList.remove('active');
                        }
                    });
                    
                    // عرض نافذة التأكيد بعد لحظة
                    setTimeout(() => {
                        confirmationOverlay.style.display = 'flex';
                        
                        // مسح السلة من التخزين المحلي
                        localStorage.removeItem('cartItems');
                        localStorage.removeItem('cartTotal');
                    }, 1000);
                } else {
                    alert('يرجى إكمال جميع الحقول المطلوبة');
                }
            });
            
            backToStoreBtn.addEventListener('click', function() {
                window.location.href = 'index.html';
            });
            
            // التحرك بين خطوات الدفع عندما يمر المستخدم بالنموذج
            const formSections = document.querySelectorAll('.form-section');
            const steps = document.querySelectorAll('.step');
            
            // تحديث الخطوة النشطة عند التمرير
            window.addEventListener('scroll', function() {
                formSections.forEach((section, index) => {
                    if (index >= steps.length - 1) return;
                    
                    const rect = section.getBoundingClientRect();
                    if (rect.top <= 200 && rect.bottom >= 200) {
                        steps.forEach((step, i) => {
                            step.classList.toggle('active', i === index);
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>